<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neo Survivors Idle</title>
  <link rel="stylesheet" href="./public/assets/styles/main.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&family=Fredoka:wght@500;600;700&family=Nunito:wght@500;600&display=swap"
    rel="stylesheet" />
</head>

<body>
  <header class="topbar">
    <div class="topbar-left">
      <img src="./public/assets/logo.svg" alt="Neo Survivors Idle Logo" class="game-logo" />
      <div>
        <p class="eyebrow">Incremental x Survivors</p>
        <h1>Neo Survivors Idle</h1>
        <p class="lede">Un auto-battler infini, 100% client-side, qui tourne mÃªme quand tu fermes l'onglet.</p>
      </div>
    </div>
    <div class="cta">
      <button id="resetProgress" class="ghost">RÃ©initialiser la progression</button>
      <button id="toggleSound" class="ghost">ğŸ”Š Son ON</button>
      <button id="togglePerf" class="ghost">âš™ï¸ Mode perfo</button>
      <button id="pause" class="primary">â¸ Pause</button>
    </div>
  </header>

  <!-- Fullscreen canvas background -->
  <canvas id="webgl2" class="fullscreen-canvas" width="1920" height="1080"></canvas>

  <!-- Left UI Panel -->
  <aside class="ui-panel ui-panel-left">
    <div class="panel-content">
      <div class="stat-block collapsible">
        <h2>â•”â• RESSOURCES â•â•—</h2>
        <div class="stat-row">
          <span>> Essence</span>
          <span id="essence">0</span>
        </div>
        <div class="stat-row">
          <span>> Fragments</span>
          <span id="fragments">0</span>
        </div>
        <div class="stat-row muted">
          <span>> Gain passif</span>
          <span id="idleRate">0 /s</span>
        </div>
      </div>

      <div class="stat-block collapsible">
        <h2>â•”â• RUN EN COURS â•â•—</h2>
        <div class="stat-row"><span>> Vague</span><span id="wave">1</span></div>
        <div class="stat-row"><span>> Vie</span><span id="hp">100</span></div>
        <div class="stat-row tooltip" id="damageRow"><span>> DÃ©gÃ¢ts</span><span id="dps">0</span></div>
        <div class="stat-row"><span>> Critiques</span><span id="crit">0%</span></div>
        <div class="stat-row"><span>> Bouclier</span><span id="shield">0%</span></div>
        <div class="stat-row"><span>> Collecte</span><span id="collect">0</span></div>
        <div class="stat-row muted"><span>> Spawn</span><span id="spawnRate">0/s</span></div>
      </div>

      <div class="stat-block collapsible collapsed">
        <h2>â•”â• PERFORMANCE â•â•—</h2>
        <div class="stat-row"><span>> FPS</span><span id="fpsValue">--</span></div>
        <button id="toggleFps" class="ghost small">[ GRAPH ]</button>
        <canvas id="fpsGraph" class="fps-chart" width="260" height="80"></canvas>
      </div>

      <div class="stat-block">
        <h2>â•”â• PRODUCTION â•â•—</h2>
        <div id="generators" class="list"></div>
      </div>
    </div>
  </aside>

  <!-- Right UI Panel -->
  <aside class="ui-panel ui-panel-right">
    <div class="panel-content">
      <div class="stat-block assist collapsible">
        <h2>â•”â• AIDE RAPIDE â•â•—</h2>
        <ul id="quickHelpList" class="assist-list"></ul>
      </div>

      <div class="stat-block assist collapsible">
        <h2>â•”â• JALONS â•â•—</h2>
        <ul id="milestoneList" class="assist-list milestones"></ul>
      </div>

      <div class="stat-block collapsible">
        <h2>â•”â• TALENTS â•â•—</h2>
        <div id="talents" class="talent-grid"></div>
        <div class="talent-actions">
          <p id="talentStatus" class="muted"></p>
          <button id="resetTalents" class="ghost danger">[ RESET: 1200 ]</button>
        </div>
      </div>

      <div class="stat-block">
        <h2>â•”â• AMÃ‰LIORATIONS â•â•—</h2>
        <div id="upgrades" class="list"></div>
      </div>

      <div class="stat-block collapsible">
        <h2>â•”â• PRESTIGE â•â•—</h2>
        <button id="softPrestige" class="secondary">[ CONSOLIDATION ]</button>
        <button id="restartRun" class="ghost">[ RELANCER ]</button>
      </div>

      <div class="stat-block collapsible collapsed">
        <h2>â•”â• GUIDE â•â•—</h2>
        <ul class="guide">
          <li>> Investis Essence dans production passive</li>
          <li>> Fragments pour upgrades de combat</li>
          <li>> Consolidation = boost passif</li>
          <li>> Tir automatique avec critiques</li>
          <li>> Ã‰lites = + rewards + damage</li>
        </ul>
      </div>

      <div class="stat-block collapsible collapsed debug">
        <h2>â•”â• DEBUG â•â•—</h2>
        <div class="debug-grid">
          <button id="debugGiveEssence" class="ghost">+1M ESS</button>
          <button id="debugGiveFragments" class="ghost">+1M FRG</button>
          <button id="debugSkipWave" class="ghost">+10 WAV</button>
          <button id="debugNuke" class="ghost">NUKE</button>
        </div>
      </div>

      <div class="stat-block collapsible collapsed debug">
        <h2>â•”â• TUNING â•â•—</h2>
        <div id="tuningPanel" class="tuning-panel"></div>
      </div>
    </div>
  </aside>

  <!-- Bottom status overlay -->
  <div class="status-overlay">
    <p class="status" id="statusMessage"></p>
  </div>

  <footer class="footer">
    <p>Made for fun Â· Pas de serveur Â· Tout reste dans tes cookies</p>
  </footer>

  <div class="version-container">
    <button id="docBtn" class="doc-btn" aria-label="Ouvrir la documentation">ğŸ“š</button>
    <div id="versionBadge" class="version-badge"></div>
  </div>
  <div id="assistBubbles" class="assist-bubbles"></div>

  <dialog id="docDialog" class="doc-dialog" aria-labelledby="docDialogTitle">
    <div class="doc-dialog-header">
      <h2 id="docDialogTitle">ğŸ“š Documentation</h2>
      <button class="doc-close-btn" aria-label="Fermer">âœ•</button>
    </div>
    <div class="doc-tabs" id="docTabs">
      <button class="doc-tab" data-tab="code"><span class="tab-icon">ğŸ“</span><span
          class="tab-label">Code</span></button>
      <button class="doc-tab" data-tab="wiki"><span class="tab-icon">ğŸ“–</span><span
          class="tab-label">Wiki</span></button>
      <button class="doc-tab" data-tab="changelog"><span class="tab-icon">ğŸ“‹</span><span
          class="tab-label">Versions</span></button>
      <button class="doc-tab" data-tab="roadmap"><span class="tab-icon">ğŸ—ºï¸</span><span
          class="tab-label">Roadmap</span></button>
    </div>
    <div class="doc-content" id="docContent" role="region" aria-live="polite"></div>
  </dialog>

  <script type="module" src="./src/main.ts"></script>
</body>

</html>